---
layout: post
title: 윈도우 레지스트리(작성중)
date: 2025-11-16 18:33:00 +0900
category: forensic
---

- **정의**   
 windows 레지스트리는 Microsoft Windows 운영체제와 레지스트리를 사용하는 애플리케이션의 *하위수준 설정을 저장*하는 **계층적 데이터베이스**(데이터가 트리구조로 구성된 모델/ 데이터는 레코드로 저장되고 링크를 통해 다른 레코드와 연결되면서 트리를 형성함/ 자식은 하나의 부모만을 가질 수 있고 부모는 여러 자식을 둘 수 있음)이다.
    - 하위수준 설정
        - 운영체제에 설치된 프로그램 및 하드웨어에 대한 정보, 설정, 옵션, 기타 값 포함
        - ex) 프로그램(키)→프로그램의 위치, 버전,  프로그램 시작 방법(하위키)   
          
<br>

- **레지스트리가 없다면?**   
    - 운영체제가 하드웨어 드라이버, 서비스, 로그인, 파일연결, 보안정책을 어디서 읽을지 몰라서 멈춘다.   
    - 시스템 하이브(ex, SYSTEM, SOFTWARE, SAM, SECURITY, DEFAULT) 손상   
        - 부트과정에서 드라이버/ 서비스 목록 과 커널 파라미터를 못읽어 블루 스크린 또는 “구성 데이터베이스가 손상/누락”과 같은 오류로 중단.   
    - 사용자 하이브(NTUSER.DAT, USRCLASS.DAT) 손상   
        - 해당 계정을 읽을 수 없어 임시/ 새프로필로 로그인되며 바탕화면, 레지스트리에 저장되던 앱 설정이 초기화 된다.   
    - 특정 앱의 레지스트리가 없는 경우   
        - 앱이 기본값으로 재설정 되거나 실행 실패한다.   
          
<br>

- **레지스트리의 사용**   
    - 커널, 장치드라이버, 서비스, 보안 계정 관리자, 사용자 인터페이스 모두 레지스트리를 사용할 수 있다.   
    - 레지스트리를 통해 *시스템 성능 프로파일링을 위한 카운터(ex, perf ⇒ cpu cycle, 메모리 사용량, 페이지 폴트 등을 측정)*에 액세스 할 수 있다.   
      
<br>

- **레지스트리의 저장**   
    - 모든 애플리케이션 설정을 하나의 논리적 저장소(하지만 여러개의 개별 파일에도)와 표준화된 형식으로 저장함   
      
<br>

- **레지스트리의 이점**   
    - 이진형식으로 파일 구문 분석이 훨씬 더 효율적으로 수행되므로 텍스트 INI파일보다 더 빠르게 읽거나 쓸 수 있다.   
    - 강력한 형식의 데이터`regedit.exe`를 레지스트리에 저장할 수 있다.   
      
<br>

- **레지스트리의 키의 구조**
    - 레지스트리 키   
        - 폴더와 유사한 컨테이너 객체   
        - 키는 값과 하위키를 포함 할 수 있다   
        - 알려진 루트키 핸들에서만 액세스 할 수 있다.   
    - 레지스트리 값   
        - 파일과 유사한 비 컨테이너 객체   
        - 키 내에 저장된 이름/데이터 쌍   
        - 고유한 이름을 가진다   